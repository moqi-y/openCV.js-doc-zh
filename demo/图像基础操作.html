<!--
 * @Author: yuanzhen
 * @Date: 2023-09-01 15:19:47
 * @LastEditTime: 2023-09-06 11:11:08
 * @FilePath: \openCV-doc-zh\demo\图像基础操作.html
 * @Description: 
-->
<!DOCTYPE html>
<html>

<head>
    <meta charset="utf-8">
    <title>图像操作</title>
    <!-- 要加载库文件，否则找不到cv -->
    <script src="https://docs.opencv.org/4.8.0/opencv.js" type="text/javascript"></script>
</head>

<body>
    <h2>图像操作示例</h2>
    <div>
        <img id="imageSrc" alt="没有图片输入" />
        <div class="caption">图片源： <input type="file" id="fileInput" name="file" /></div>

    </div>
    <script type="text/javascript">
        let imgElement = document.getElementById('imageSrc'); //获取输入元素div
        let inputElement = document.getElementById('fileInput');//获取文件元素div
        inputElement.addEventListener('change', (e) => {
            imgElement.src = URL.createObjectURL(e.target.files[0]);
        }, false);
        imgElement.onload = function () {
            let mat = cv.imread(imgElement);
            console.log('图像宽度: ' + mat.cols + '\n' +
                '图像高度: ' + mat.rows + '\n' +
                '图像大小: ' + mat.size().width + mat.size().height + '\n' +
                '图像深度: ' + mat.depth() + '\n' +
                '图像通道' + mat.channels() + '\n' +
                '图像类型' + mat.type() + '\n');
        };
    </script>
</body>

</html>